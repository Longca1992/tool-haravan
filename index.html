<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Tool Up Gi√° v152 (C·∫≠p nh·∫≠t t√™n c·ªôt KiotViet)</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Roboto', sans-serif; padding: 20px; background: #e3f2fd; height: 100vh; overflow: hidden; margin: 0; }
        .main-container { display: grid; grid-template-columns: 350px 1fr; gap: 20px; width: 98%; max-width: 1800px; margin: 0 auto; height: calc(100vh - 40px); }
        .card { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); display: flex; flex-direction: column; overflow-y: auto; }
        h2 { color: #0277bd; margin: 0 0 15px 0; font-size: 20px; text-transform: uppercase; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        .form-group { margin-bottom: 15px; }
        label { font-weight: bold; font-size: 13px; color: #455a64; display: block; margin-bottom: 5px; }
        input[type="text"], input[type="password"] { width: 100%; padding: 12px; border: 1px solid #cfd8dc; border-radius: 6px; box-sizing: border-box; font-size: 13px; }
        .upload-compact { display: flex; align-items: center; justify-content: space-between; background: #e1f5fe; border: 2px dashed #0288d1; padding: 10px 15px; border-radius: 8px; cursor: pointer; margin-bottom: 15px; transition: 0.2s; }
        .upload-compact:hover { background: #b3e5fc; }
        .upload-compact span { font-weight: bold; color: #0277bd; font-size: 14px; }
        .file-name { font-size: 12px; color: #546e7a; font-style: italic; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 200px; }
        .emp-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 8px; margin-bottom: 15px; }
        .emp-item { background: #f5f5f5; padding: 8px; border-radius: 6px; display: flex; align-items: center; cursor: pointer; border: 1px solid #eee; font-size: 13px; }
        .emp-item:hover { background: #e0f7fa; border-color: #00bcd4; }
        .emp-item.all { background: #b2dfdb; color: #00695c; font-weight: bold; }
        .log-console { background: #263238; color: #eceff1; font-family: monospace; font-size: 11px; padding: 15px; border-radius: 8px; flex: 1; overflow-y: auto; margin-bottom: 15px; border: 1px solid #37474f; }
        .progress-bar { height: 4px; background: #00e676; width: 0%; transition: width 0.3s; margin-bottom: 10px; border-radius: 2px; }
        .btn-container { margin-top: auto; display: flex; flex-direction: column; gap: 10px; }
        .btn-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        button { padding: 15px; border-radius: 6px; font-size: 13px; font-weight: bold; cursor: pointer; border: none; color: white; text-transform: uppercase; box-shadow: 0 2px 5px rgba(0,0,0,0.2); transition: 0.2s; width: 100%; }
        .btn-si { background: linear-gradient(45deg, #ff6f00, #ff8f00); } 
        .btn-le { background: linear-gradient(45deg, #2e7d32, #43a047); } 
        .btn-txt { background: #546e7a; font-size: 11px; display: flex; align-items: center; justify-content: center; gap: 5px; }
        .btn-txt:hover { background: #455a64; }
        button:disabled { background: #cfd8dc !important; cursor: not-allowed; transform: none; box-shadow: none; }
    </style>
</head>
<body>

<div class="main-container">
    <div class="card">
        <h2>C·∫§U H√åNH TOOL</h2>
        <div class="form-group"><label>üîë Token API:</label><input type="password" id="haravan_token" placeholder="D√°n m√£ Token..."></div>
        <div class="form-group"><label>üìù Ghi ch√∫ c·∫≠p nh·∫≠t:</label><input type="text" id="update_note" placeholder="VD: H√†ng m·ªõi v·ªÅ 08/02..."></div>
        <div style="margin-top:auto; font-size:11px; color:#b0bec5; text-align:center;">v152 (Update C·ªôt KiotViet) - System by LongCa</div>
    </div>

    <div class="card">
        <div class="upload-compact" onclick="document.getElementById('upload').click()">
            <div style="display:flex; align-items:center; gap:10px;"><span style="font-size:20px;">üìÇ</span><span>CH·ªåN FILE EXCEL</span></div>
            <div id="file-name" class="file-name">(Ch∆∞a ch·ªçn file)</div>
            <input type="file" id="upload" accept=".xlsx" style="display:none">
        </div>
        <div class="emp-grid" id="emp-list"></div>
        <div class="progress-bar" id="progress"></div>
        <div class="log-console" id="console">H·ªá th·ªëng s·∫µn s√†ng...</div>
        
        <div class="btn-container">
            <div class="btn-row">
                <button class="btn-si" id="btn-si" onclick="run('wholesale_shopee')">‚ö° UP GI√Å S·ªà + SHOPEE</button>
                <button class="btn-le" id="btn-le" onclick="run('retail')">üåê UP GI√Å L·∫∫</button>
            </div>
            <div class="btn-row">
                <button class="btn-txt" onclick="downloadTXT('wholesale_shopee')">üíæ T·∫¢I TXT (S·ªà + SHOPEE)</button>
                <button class="btn-txt" onclick="downloadTXT('retail')">üíæ T·∫¢I TXT (L·∫∫)</button>
            </div>
        </div>
    </div>
</div>

<script>
    const HARAVAN_IDS = {
        "nv1": { "wholesale": "1004290194", "retail": "1004292385", "shopee": "1004314784", "name": "D∆∞∆°ng" },
        "nv3": { "wholesale": "1004290195", "retail": "1004292392", "shopee": "1004314785", "name": "H·∫±ng" },
        "nv2": { "wholesale": "1004290197", "retail": "1004292393", "shopee": "1004314787", "name": "Duy√™n" },
        "nv4": { "wholesale": "1004290198", "retail": "1004292394", "shopee": "1004314788", "name": "Chi" },
        "general": { "wholesale": "1004285946", "retail": "1004292384", "shopee": "1004314783", "name": "T·ªïng" }
    };
    const ZALO_INFO = { "nv1": {z:"D∆∞∆°ng", p:"0705777131"}, "nv2": {z:"Duy√™n", p:"0937888155"}, "nv3": {z:"H·∫±ng", p:"0789698989"}, "nv4": {z:"Chi", p:"0936111846"} };
    const CONTACTS = [ {n:"D∆∞∆°ng",p:"0705777131"}, {n:"H·∫±ng",p:"0789698989"}, {n:"Duy√™n",p:"0937888155"}, {n:"Chi",p:"0936111846"} ];
    
    const SEARCH_KEYWORDS = ["M·ª±c 1 N·∫Øng", "M·ª±c Tr·ª©ng", "M·ª±c L√°", "M·ª±c ·ªêng", "M·ª±c Nang", "Kh√¥ M·ª±c", "RƒÉng M·ª±c", "M·ª±c", "T√¥m H√πm", "T√¥m B·∫Øc C·ª±c", "T√¥m T√≠t", "T√¥m Gi√≤n", "T√¥m", "C√° Th√°c L√°c", "·ª®c C√°", "C√° H·ªìi", "C√° Ng·ª´", "C√° Tr√≠ch", "C√° Tuy·∫øt", "C√° Sapa", "C√° Saba", "C√° Thu", "C√° ƒê√π", "C√° D·ª©a", "C√° Ninja", "C√° M√∫", "C√° S·∫∑c", "G√† ·ª¶ Mu·ªëi", "V√∫ Heo", "ƒê·∫≠u n√†nh", "Ch·∫£ Gi√≤", "ƒêi·ªáp 1 m·∫£nh", "Tobiko", "Ebiko", "V·∫πm", "B√≤", "B√†o Ng∆∞", "Vi C√°", "H·∫£i S√¢m", "B·∫°ch Tu·ªôc", "S√≤ ƒêi·ªáp", "C·ªìi ƒêi·ªáp", "S√≤ ƒê·ªè", "S√≤ L√¥ng", "S√≤ Huy·∫øt", "S√≤ Mai", "·ªêc H∆∞∆°ng", "·ªêc Bulot", "H√†u", "Th·ªãt Cua", "Th·ªãt Gh·∫π", "C√†ng Cua", "C√†ng Gh·∫π", "Cua Ho√†ng ƒê·∫ø", "Ch√¢n Cua Tuy·∫øt", "Ch·∫£ C√°", "Ch·∫£ M·ª±c", "Ch·∫£ Gh·∫π", "Ch·∫£ ·ªêc", "Ch·∫£ Ram", "Nem Chua", "Nem L·ª•i", "D·ªìi S·ª•n", "L∆∞∆°n Nh·∫≠t", "Unagi", "S·ª•n G√†", "C√°nh G√†", "ƒê√πi G√†", "Ch√¢n G√†", "Heo Iberico", "S∆∞·ªùn Heo", "Khoai T√¢y", "Ph√¥ Mai", "Rong Bi·ªÉn", "M√π T·∫°t", "N∆∞·ªõc T∆∞∆°ng", "G·ª´ng H·ªìng", "B√°nh Tuy·∫øt Thi√™n S·ª©", "B√°nh Tuy·∫øt"];
    SEARCH_KEYWORDS.sort((a, b) => b.length - a.length);
    
    const CONFIG = { 
        deleteKeywords: ["Set", "250gr", "240gr", "100gr", "200gr", "300gr", "50gr", "0,33gr", "2con", "2 t√∫i", "2 H·ªôp", "T√∫i 100gr", "10gr", "20gr", "1Con", "2 G√≥i"], 
        keepNames: ["Nem", "Tobiko", "Ebiko", "Ph√¥ Mai Malaysia", "D·ªìi S·ª•n", "Rong", "B√°nh Tuy·∫øt"], 
        garbageKeywords: ["X·ªëp", "Product-Haravan", "M√≥c Kho√°", "Ship", "S·∫£n Ph·∫©m Th√™m", "T√∫i H√∫t Ch√¢n Kh√¥ng", "Ph√≠ D·ªãch V·ª•", "T·∫£ng", "C∆∞·ªõc Xe", "ƒê·ªçc Ghi Ch√∫", "Ph√≠ DV"], 
        sashimiKeywords: ["Sashimi", "Wasabi", "Rong"], 
        meatKeywords: ["Heo", "B√≤", "G√†", "Ng·ªóng"], 
        seafoodKeywords: ["T√¥m", "Cua", "Ghe", "Gh·∫π", "V·∫πm", "C·ªìi", "ƒêi·ªáp", "B√†o Ng∆∞", "Ngh√™u", "H√†u", "C√°", "M·ª±c", "S√≤", "L∆∞∆°n", "Rong", "H·∫£i", "B√†o"] 
    };

    const el = document.getElementById('emp-list');
    el.innerHTML = `<label class="emp-item all"><input type="checkbox" onchange="toggleAll(this)"> CH·ªåN T·∫§T C·∫¢</label>`;
    Object.keys(HARAVAN_IDS).forEach(k => el.innerHTML += `<label class="emp-item"><input type="checkbox" class="emp-chk" value="${k}"> ${HARAVAN_IDS[k].name}</label>`);

    function log(msg, type) { const c = document.getElementById('console'); let color='#eceff1'; if(type==='ok') color='#69f0ae'; if(type==='err') color='#ff5252'; if(type==='warn') color='#ffd740'; c.innerHTML += `<div style="color:${color}">[${new Date().toLocaleTimeString()}] ${msg}</div>`; c.scrollTop = c.scrollHeight; }
    document.getElementById('upload').onchange = function() { if(this.files[0]) { document.getElementById('file-name').innerText = this.files[0].name; document.getElementById('file-name').style.color = "#0277bd"; }};
    function toggleAll(e) { document.querySelectorAll('.emp-chk').forEach(c => c.checked = e.checked); }
    
    function generateSmartLink(n) { const u = n.toUpperCase(); for(let k of SEARCH_KEYWORDS) if(u.includes(k.toUpperCase())) return `https://haisankyha.vn/search?type=product&q=${encodeURIComponent(k)}`; return `https://haisankyha.vn/search?type=product&q=${encodeURIComponent(n.split(" ").slice(0,4).join(" "))}`; }
    function parse(v) { return parseFloat(String(v).replace(/[^0-9]/g,''))||0; }
    function fmt(v) { return (v<=0)?"Li√™n H·ªá":v.toLocaleString('en-US'); }

    function processData(d) {
        const k = Object.keys(d[0]); 
        const find = (arr) => k.find(key => arr.some(x => key.toLowerCase().includes(x.toLowerCase())));
        const cN=find(["T√™n h√†ng","T√™n s·∫£n ph·∫©m"]);
        const cR=find(["B·∫£ng gi√° chung","Gi√° l·∫ª"]);
        const cS=find(["Shopee", "shopee", "Gi√° Shopee"]); 
        const cC=find(["Gi√° CTV"]);
        
        // --- C·∫¨P NH·∫¨T NH·∫¨N DI·ªÜN T√äN C·ªòT M·ªöI T·ª™ KIOTVIET T·∫†I ƒê√ÇY ---
        const c10=find(["Gi√° S·ªâ ƒê·∫ßu Th√πng", "S·ªâ t·ª´ 10kg"]);
        const c50=find(["Gi√° S·ªâ 50kg ƒê·∫ßu Th√πng", "S·ªâ tr√™n 50kg"]);

        let g = { sashimi:[], seafood:[], meat:[], other:[] };
        
        d.forEach(row => {
            let n = String(row[cN]||"").trim(), u = String(row["ƒê∆°n v·ªã t√≠nh"]||"").toLowerCase();
            if(!n) return;
            
            if(!CONFIG.keepNames.some(x=>n.toLowerCase().includes(x.toLowerCase()))) {
                if(u.includes("500gr") || CONFIG.deleteKeywords.some(x=>u.includes(x.toLowerCase())||n.toLowerCase().includes(x.toLowerCase())) || CONFIG.garbageKeywords.some(x=>JSON.stringify(row).toLowerCase().includes(x.toLowerCase()))) return;
            }
            
            let p10 = parse(row[c10]), p50 = parse(row[c50]);
            let v10 = n.match(/-\s*[08]$/) ? p10 : Math.ceil((p10/1.05)/1000)*1000;
            let v50 = n.match(/-\s*[08]$/) ? p50 : Math.ceil((p50/1.05)/1000)*1000;
            
            // X·ª¨ L√ù LOGIC GI√Å SHOPEE
            let pRetail = parse(row[cR]);
            let pShopeeRaw = parse(row[cS]);
            let pShopeeFinal = (pShopeeRaw > 0 && pShopeeRaw < pRetail) ? pShopeeRaw : pRetail;

            const item = { 
                name: n, link: generateSmartLink(n), 
                retail: fmt(pRetail), 
                shopee: fmt(pShopeeFinal),
                ctv: fmt(parse(row[cC])), 
                vat10: fmt(v10), hkd10: fmt(p10), vat50: fmt(v50), hkd50: fmt(p50) 
            };

            if(CONFIG.sashimiKeywords.some(x=>n.toLowerCase().includes(x.toLowerCase()))) g.sashimi.push(item);
            else if(CONFIG.seafoodKeywords.some(x=>n.toLowerCase().includes(x.toLowerCase()))) g.seafood.push(item);
            else if(CONFIG.meatKeywords.some(x=>n.toLowerCase().includes(x.toLowerCase()))) g.meat.push(item);
            else g.other.push(item);
        });
        for(let key in g) g[key].sort((a,b)=>a.name.localeCompare(b.name));
        return g;
    }

    function generateCleanHTML(g, mode, note, empId) {
        const timeStr = new Date().toLocaleString('vi-VN');
        let html = `<div class="sticky-info-bar">üìÖ C·∫≠p nh·∫≠t: ${timeStr} ${note ? '- ' + note : ''}</div>`;
        
        const renderSection = (list, title, id) => {
            if(!list.length) return "";
            
            let th = '';
            if (mode === 'retail') {
                th = `<th>T√™n S·∫£n Ph·∫©m</th><th>Gi√° L·∫ª</th>`;
            } else if (mode === 'shopee') {
                th = `<th>T√™n S·∫£n Ph·∫©m</th><th style="background:#d84315;">Gi√° B√°n</th>`;
            } else {
                th = `<th>T√™n S·∫£n Ph·∫©m</th><th>VAT 10Kg</th><th>HKD 10Kg</th><th>VAT 50Kg</th><th>HKD 50Kg</th><th>CTV</th><th>L·∫ª</th>`;
            }

            let rows = list.map(i => {
                const link = `<br><a href="${i.link}" target="_blank" style="font-weight:normal;font-size:11px;color:#0068ff;text-decoration:none;">üëâ Xem s·∫£n ph·∫©m</a>`;
                
                if (mode === 'retail') {
                    return `<tr><td>${i.name}${link}</td><td class="price-retail">${i.retail}</td></tr>`;
                } else if (mode === 'shopee') {
                    return `<tr><td>${i.name}${link}</td><td class="price-retail" style="color:#e65100;">${i.shopee}</td></tr>`;
                } else {
                    return `<tr><td>${i.name}${link}</td><td class="price-ws">${i.vat10}</td><td class="price-ws">${i.hkd10}</td><td class="price-ws">${i.vat50}</td><td class="price-ws">${i.hkd50}</td><td class="price-ws">${i.ctv}</td><td class="price-ws">${i.retail}</td></tr>`;
                }
            }).join('');
            return `<div id="${id}" class="pricing-section"><div class="sec-title">${title}</div><div class="table-responsive"><table><thead><tr>${th}</tr></thead><tbody>${rows}</tbody></table></div></div>`;
        };

        html += renderSection(g.sashimi, "SASHIMI & SUSHI", "sashimi");
        html += renderSection(g.seafood, "H·∫¢I S·∫¢N", "haisan");
        html += renderSection(g.meat, "TH·ªäT NH·∫¨P KH·∫®U", "thit");
        html += renderSection(g.other, "KH√ÅC", "khac");

        // --- FOOTER ZALO & SCRIPT B√ÅO C√ÅO ---
        if (empId === 'general') {
            const items = CONTACTS.map(c => `<a href="https://zalo.me/${c.p}" target="_blank"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Icon_of_Zalo.svg/1200px-Icon_of_Zalo.svg.png"><span>${c.n}</span></a>`).join('');
            html += `<div class="footer-general-fixed">${items}</div>`;
        } else {
            const z = ZALO_INFO[empId];
            html += `<a href="https://zalo.me/${z.p}" target="_blank" class="zalo-pill-float"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Icon_of_Zalo.svg/1200px-Icon_of_Zalo.svg.png"> Chat Zalo: ${z.z}</a>`;
            
            html += `<script>
                setTimeout(function(){
                    if(typeof gtag === 'function') {
                        gtag('event', 'view_pricelist', { 
                            'event_category': 'PriceList',
                            'event_label': 'Link_Sale_${z.z}', 
                            'non_interaction': true 
                        });
                        console.log('ƒê√£ ghi nh·∫≠n truy c·∫≠p link c·ªßa Sale: ${z.z}');
                    }
                    if(typeof fbq === 'function') {
                        fbq('trackCustom', 'ViewPriceList', { sale_name: '${z.z}' });
                    }
                }, 2000);
            <\/script>`;
        }
        return html;
    }

    async function uploadWithRetry(url, data, token, retries = 3) {
        for (let i = 0; i < retries; i++) {
            try {
                const res = await fetch(url, {
                    method: 'PUT',
                    headers: { 'Authorization': `Bearer ${token}`, 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                if (!res.ok) throw new Error(`${res.status} ${res.statusText}`);
                return res;
            } catch (err) {
                if (i === retries - 1) throw err;
                log(`‚ö†Ô∏è L·ªói m·∫°ng, ƒëang th·ª≠ l·∫°i l·∫ßn ${i + 2}...`, 'warn');
                await new Promise(r => setTimeout(r, 2000));
            }
        }
    }

    async function run(action) {
        const file = document.getElementById('upload').files[0];
        const token = document.getElementById('haravan_token').value.trim();
        const note = document.getElementById('update_note').value.trim();
        const checks = Array.from(document.querySelectorAll('.emp-chk:checked'));

        if(!file || !token || !checks.length) return alert('‚ö†Ô∏è Vui l√≤ng nh·∫≠p ƒë·ªß th√¥ng tin!');
        
        const btnId = action === 'wholesale_shopee' ? 'btn-si' : 'btn-le';
        document.getElementById(btnId).disabled = true;
        log("=== B·∫ÆT ƒê·∫¶U X·ª¨ L√ù ===");

        const reader = new FileReader();
        reader.onload = async (e) => {
            const wb = XLSX.read(e.target.result, {type:'array'});
            const data = XLSX.utils.sheet_to_json(wb.Sheets[wb.SheetNames[0]], {defval: ""});
            const groups = processData(data);
            const apiPrefix = '/haravan-api';

            // Quy·∫øt ƒë·ªãnh danh s√°ch Mode c·∫ßn ch·∫°y
            const modesToRun = action === 'wholesale_shopee' ? ['wholesale', 'shopee'] : ['retail'];
            const totalTasks = checks.length * modesToRun.length;
            let currentTask = 0;

            for (const c of checks) {
                const info = HARAVAN_IDS[c.value];
                
                for (const mode of modesToRun) {
                    const pageId = info[mode];
                    const cleanHTML = generateCleanHTML(groups, mode, note, c.value);
                    currentTask++;
                    document.getElementById('progress').style.width = `${Math.round((currentTask/totalTasks)*100)}%`;
                    
                    const modeName = mode === 'wholesale' ? 'S·ªà' : (mode === 'shopee' ? 'SHOPEE' : 'L·∫∫');
                    log(`‚è≥ ƒêang up [${modeName}]: ${info.name}...`);
                    try {
                        const getRes = await fetch(`${apiPrefix}/web/pages/${pageId}.json`, {
                            headers: { 'Authorization': `Bearer ${token}`, 'Content-Type': 'application/json' }
                        });
                        let title = `B·∫£ng gi√° ${info.name}`;
                        if(getRes.ok) { const d = await getRes.json(); title = d.page.title; }

                        await uploadWithRetry(
                            `${apiPrefix}/web/pages/${pageId}.json`,
                            { page: { id: pageId, title: title, body_html: cleanHTML } },
                            token
                        );
                        log(`‚úÖ [${modeName}] ${info.name}: TH√ÄNH C√îNG!`, 'ok');
                    } catch(err) {
                        log(`‚ùå [${modeName}] ${info.name}: TH·∫§T B·∫†I - ${err.message}`, 'err');
                    }
                }
            }
            alert("üéâ Ho√†n t·∫•t quy tr√¨nh c·∫≠p nh·∫≠t!");
            document.getElementById(btnId).disabled = false;
        };
        reader.readAsArrayBuffer(file);
    }

    async function downloadTXT(action) {
        const file = document.getElementById('upload').files[0];
        const checks = Array.from(document.querySelectorAll('.emp-chk:checked'));
        if(!file || !checks.length) return alert('‚ö†Ô∏è Ch·ªçn file & nh√¢n vi√™n tr∆∞·ªõc!');
        
        const reader = new FileReader();
        reader.onload = async (e) => {
            const wb = XLSX.read(e.target.result, {type:'array'});
            const data = XLSX.utils.sheet_to_json(wb.Sheets[wb.SheetNames[0]], {defval: ""});
            const groups = processData(data);
            const note = document.getElementById('update_note').value.trim();
            const zip = new JSZip();
            
            const modesToRun = action === 'wholesale_shopee' ? ['wholesale', 'shopee'] : ['retail'];
            
            checks.forEach(c => {
                modesToRun.forEach(mode => {
                    const html = generateCleanHTML(groups, mode, note, c.value);
                    zip.file(`${mode.toUpperCase()}_${HARAVAN_IDS[c.value].name}.txt`, html);
                });
            });
            saveAs(await zip.generateAsync({type:"blob"}), `Backup_${action}.zip`);
            log("‚úÖ ƒê√£ t·∫£i file TXT th√†nh c√¥ng!", 'ok');
        };
        reader.readAsArrayBuffer(file);
    }
</script>
</body>
</html>
